<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sparta Fitness</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: black;
            color: white;
            margin: 0;
            padding: 0;
            text-align: center;
        }
        header {
            background: url('https://your-image-url.com/spartan-banner.jpg') no-repeat center center/cover;
            padding: 50px;
            font-size: 2em;
            font-weight: bold;
            text-shadow: 3px 3px 10px red;
            animation: fadeIn 2s ease-in-out;
        }
        .container {
            width: 80%;
            margin: auto;
            padding: 20px;
        }
        section {
            padding: 50px 20px;
            animation: slideIn 1.5s ease-in-out;
        }
        .highlight {
            color: red;
            font-weight: bold;
            text-shadow: 2px 2px 5px red;
            animation: pulse 2s infinite;
        }
        .btn {
            background-color: red;
            color: white;
            padding: 15px 30px;
            border: none;
            font-size: 1.2em;
            cursor: pointer;
            box-shadow: 0px 0px 10px red;
            transition: transform 0.3s ease-in-out;
        }
        .btn:hover {
            background-color: darkred;
            transform: scale(1.1);
        }
        ul {
            list-style: none;
            padding: 0;
        }
        #chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background-color: rgba(0, 0, 0, 0.9);
            border: 2px solid red;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0px 0px 10px red;
        }
        #chatbot-messages {
            height: 200px;
            overflow-y: auto;
            border-bottom: 1px solid red;
            margin-bottom: 10px;
            padding: 10px;
        }
        #chatbot-input {
            width: 80%;
            padding: 10px;
            border: none;
            border-radius: 5px;
        }
        #chatbot-send {
            padding: 10px;
            background-color: red;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes pulse {
            0% { text-shadow: 2px 2px 5px red; }
            50% { text-shadow: 2px 2px 15px red; }
            100% { text-shadow: 2px 2px 5px red; }
        }
    </style>
</head>
<body>
    <header>
        SPARTA FITNESS - Träna som en krigare, lev som en mästare
    </header>
    
    <div class="container">
        <p>Sparta Fitness är mer än bara ett gym, det är en livsstil. Vi är dedikerade till att hjälpa dig bygga den ultimata kroppen och mentaliteten genom hård träning, optimal kost och en stark gemenskap.</p>
    </div>

    <div id="chatbot-container">
        <div id="chatbot-messages"></div>
        <input type="text" id="chatbot-input" placeholder="Ställ en fråga...">
        <button id="chatbot-send" onclick="askSpartaAI()">Skicka</button>
    </div>

    <script>
        let chatHistory = [];

        async function askSpartaAI() {
            const userInput = document.getElementById("chatbot-input").value;
            if (!userInput.trim()) return;

            chatHistory.push({ "role": "user", "content": userInput });
            document.getElementById("chatbot-messages").innerHTML += `<p><strong>Du:</strong> ${userInput}</p>`;
            document.getElementById("chatbot-input").value = "";

            try {
                const response = await fetch("https://isabar.openai.azure.com/openai/deployments/gpt-35-turbo-0125-spartan-gpt-v1/chat/completions?api-version=2024-08-01-preview", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "api-key": "AlectvMQTkYfyN7vwOdgYAIiSkwRZqsoZMbdx41EVsfXh4zrvy6gJQQJ99BBACfhMk5XJ3w3AAABACOGF8Ls"
                    },
                    body: JSON.stringify({
                        model: "gpt-35-turbo-0125.ft-aa215310a8a7401891f2eab199cfce5b-spartan-gpt-v1",
                        messages: chatHistory,
                        max_tokens: 500,
                        temperature: 0.7,
                        stream: false
                    })
                });

                const data = await response.json();

                if (data.choices && data.choices.length > 0) {
                    const aiResponse = data.choices[0].message.content;
                    chatHistory.push({ "role": "assistant", "content": aiResponse });
                    document.getElementById("chatbot-messages").innerHTML += `<p><strong>Sparta AI:</strong> ${aiResponse}</p>`;
                }
            } catch (error) {
                console.error("Fel vid hämtning av AI-svar:", error);
                document.getElementById("chatbot-messages").innerHTML += `<p><strong>Sparta AI:</strong> Det uppstod ett problem vid kommunikation med servern.</p>`;
            }
        }

        document.getElementById("chatbot-input").addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                event.preventDefault();
                askSpartaAI();
            }
        });
    </script>
</body>
</html>
